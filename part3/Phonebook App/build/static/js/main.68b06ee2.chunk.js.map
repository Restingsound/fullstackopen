{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","Persons","persons","filter","toUpperCase","includes","map","PersonForm","newName","newNumber","addPerson","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","handleFilterChange","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","catch","error","update","id","put","deleteObject","delete","Notification","notification","className","message","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","setNotification","useEffect","personService","initialPersons","notifyWith","setTimeout","event","target","preventDefault","some","element","window","confirm","find","n","personObject","returnedPerson","undefined","p","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.68b06ee2.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n  //console.log(\"test\");\r\n  return (\r\n    <div key={person.name}>\r\n      {person.name} {person.number}\r\n      <button name={person.name} onClick={handleDelete}>\r\n        delete\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ persons, filter, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      {persons\r\n        .filter((person) =>\r\n          person.name.toUpperCase().includes(filter.toUpperCase())\r\n        )\r\n        .map((person) => (\r\n          <Person\r\n            key={person.name}\r\n            person={person}\r\n            handleDelete={handleDelete}\r\n          />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  newName,\r\n  newNumber,\r\n  addPerson,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={filter} onChange={handleFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"https://sm-phonebook-app.herokuapp.com/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request\r\n    .then((response) => response.data)\r\n    .catch((error) => {\r\n      return error.response.data;\r\n    });\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request\r\n    .then((response) => response.data)\r\n    .catch((error) => {\r\n      return error.response.data;\r\n    });\r\n};\r\n\r\nconst deleteObject = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then();\r\n};\r\n\r\nconst exportedObject = { getAll, create, update, deleteObject };\r\n\r\nexport default exportedObject;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification === null) {\r\n    return null;\r\n  }\r\n  return <div className={notification.type}>{notification.message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setNewFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const notifyWith = (message, type = \"success\") => {\n    setNotification({ message, type });\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    if (persons.some((element) => element.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to the phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const person = persons.find((n) => n.name === newName);\n        const personObject = { ...person, number: newNumber };\n        personService.update(person.id, personObject).then((returnedPerson) => {\n          if (returnedPerson.name !== undefined) {\n            setPersons(\n              persons.map((p) => (p.id !== person.id ? p : returnedPerson))\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            notifyWith(`Updated ${returnedPerson.name}`);\n          } else {\n            notifyWith(`${returnedPerson.error}`, \"error\");\n          }\n        });\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      };\n      personService.create(personObject).then((returnedPerson) => {\n        if (returnedPerson.name !== undefined) {\n          setPersons(persons.concat(returnedPerson));\n          setNewName(\"\");\n          setNewNumber(\"\");\n          notifyWith(`Added ${returnedPerson.name}`);\n        } else {\n          notifyWith(`${returnedPerson.error}`, \"error\");\n        }\n      });\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  const handleDelete = (event) => {\n    const person = persons.find((n) => n.name === event.target.name);\n    if (window.confirm(`Are you sure you want to delete ${person.name}?`)) {\n      personService\n        .deleteObject(person.id)\n        .then(() => {\n          setPersons(persons.filter((n) => n.id !== person.id));\n        })\n        .catch((error) => {\n          notifyWith(\n            `Information of ${person.name} has already been removed from the server`,\n            \"error\"\n          );\n          setPersons(persons.filter((n) => n.id !== person.id));\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} filter={filter} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}